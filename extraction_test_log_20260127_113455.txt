2026-01-27 11:34:55,015 - INFO - Iniciando teste em: 11.2025_NOVEMBRO_1.547
2026-01-27 11:34:55,015 - INFO - Limite de arquivos: 10
2026-01-27 11:34:55,015 - INFO - Saída JSON: extraction_test_results.json
2026-01-27 11:34:56,161 - INFO - PyTorch configured: CPU-only, threads=4, grad=disabled
2026-01-27 11:34:56,297 - INFO - Loaded patterns from extraction_patterns.yaml
2026-01-27 11:34:56,304 - INFO - Loaded 277 unique suppliers from 1273 files.
2026-01-27 11:34:56,437 - INFO - pyzbar available for barcode decoding
2026-01-27 11:34:56,450 - INFO - 
######################################################################
2026-01-27 11:34:56,451 - INFO - # TESTE COMPLETO DE EXTRAÇÃO SRDA-Rural
2026-01-27 11:34:56,451 - INFO - # Pasta: 11.2025_NOVEMBRO_1.547
2026-01-27 11:34:56,451 - INFO - # Total de arquivos: 10
2026-01-27 11:34:56,451 - INFO - # Início: 2026-01-27T11:34:56.451968
2026-01-27 11:34:56,451 - INFO - ######################################################################

2026-01-27 11:34:56,451 - INFO - 
[1/10] Processando: 01.11.2025_MV_CADORE BIDOIA_3.108,00_BOLETO_FECHAMENTO.pdf
2026-01-27 11:34:56,451 - INFO - 
============================================================
2026-01-27 11:34:56,451 - INFO - TESTANDO: 01.11.2025_MV_CADORE BIDOIA_3.108,00_BOLETO_FECHAMENTO.pdf
2026-01-27 11:34:56,451 - INFO - ============================================================
2026-01-27 11:34:56,451 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,452 - DEBUG - Parsed '01.11.2025_MV_CADORE BIDOIA_3.108,00_BOLETO_FECHAMENTO.pdf':
2026-01-27 11:34:56,452 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,452 - DEBUG -   Entidade: MV
2026-01-27 11:34:56,452 - DEBUG -   Fornecedor: CADORE BIDOIA
2026-01-27 11:34:56,452 - DEBUG -   Valor: 3.108,00 (310800 cents)
2026-01-27 11:34:56,452 - DEBUG -   Tipo: BOLETO
2026-01-27 11:34:56,452 - DEBUG -   Número: FECHAMENTO
2026-01-27 11:34:56,452 - DEBUG -   Parcela: None
2026-01-27 11:34:56,452 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,453 - DEBUG - DPI Normalization: 595x842 -> 612x866 (scale=1.029)
2026-01-27 11:34:56,456 - DEBUG - PDF carregado: 347 blocos de texto
2026-01-27 11:34:56,482 - DEBUG - Extracted '01.11.2025_MV_CADORE BIDOIA_3.108,00_BOLETO_FECHAMENTO.pdf':
2026-01-27 11:34:56,482 - DEBUG -   Valor: 310800 cents
2026-01-27 11:34:56,482 - DEBUG -   Entidade: EntityTag.MV
2026-01-27 11:34:56,482 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,482 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,482 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,482 - INFO - Comparando resultados...
2026-01-27 11:34:56,482 - INFO - OK Valor: Match exato: 3108.00
2026-01-27 11:34:56,482 - INFO - OK Entidade: Match: MV
2026-01-27 11:34:56,482 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,482 - WARNING - WARN Tipo: Diferente: esperado=BOLETO, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,482 - INFO - 
RESULTADO: ✓ PASSOU
2026-01-27 11:34:56,482 - INFO - Tempo: 30ms
2026-01-27 11:34:56,483 - INFO - 
[2/10] Processando: 01.11.2025_MV_CADORE BIDOIA_850,00_NFE_732177.pdf
2026-01-27 11:34:56,483 - INFO - 
============================================================
2026-01-27 11:34:56,483 - INFO - TESTANDO: 01.11.2025_MV_CADORE BIDOIA_850,00_NFE_732177.pdf
2026-01-27 11:34:56,483 - INFO - ============================================================
2026-01-27 11:34:56,483 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,483 - DEBUG - Parsed '01.11.2025_MV_CADORE BIDOIA_850,00_NFE_732177.pdf':
2026-01-27 11:34:56,483 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,483 - DEBUG -   Entidade: MV
2026-01-27 11:34:56,483 - DEBUG -   Fornecedor: CADORE BIDOIA
2026-01-27 11:34:56,483 - DEBUG -   Valor: 850,00 (85000 cents)
2026-01-27 11:34:56,483 - DEBUG -   Tipo: NFE
2026-01-27 11:34:56,483 - DEBUG -   Número: 732177
2026-01-27 11:34:56,483 - DEBUG -   Parcela: None
2026-01-27 11:34:56,483 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,483 - DEBUG - DPI Normalization: 595x842 -> 612x865 (scale=1.028)
2026-01-27 11:34:56,487 - DEBUG - PDF carregado: 642 blocos de texto
2026-01-27 11:34:56,747 - WARNING - Failed to load PaddleOCR: Descriptors cannot be created directly.
If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
If you cannot immediately regenerate your protos, some other possible workarounds are:
 1. Downgrade the protobuf package to 3.20.x or lower.
 2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

More information: https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates
2026-01-27 11:34:56,748 - INFO - VLM pulado (High Confidence/Hints)
2026-01-27 11:34:56,748 - DEBUG - Extracted '01.11.2025_MV_CADORE BIDOIA_850,00_NFE_732177.pdf':
2026-01-27 11:34:56,748 - DEBUG -   Valor: 0 cents
2026-01-27 11:34:56,748 - DEBUG -   Entidade: EntityTag.MV
2026-01-27 11:34:56,748 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,748 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,748 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,748 - INFO - Comparando resultados...
2026-01-27 11:34:56,748 - ERROR - FALHA Valor: Fora da tolerância: esperado=850.00, extraído=0.00, diff=850.00
2026-01-27 11:34:56,748 - INFO - OK Entidade: Match: MV
2026-01-27 11:34:56,749 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,749 - WARNING - WARN Tipo: Diferente: esperado=NFE, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,749 - INFO - 
RESULTADO: ✗ FALHOU
2026-01-27 11:34:56,749 - INFO - Tempo: 266ms
2026-01-27 11:34:56,749 - INFO - 
[3/10] Processando: 01.11.2025_MV_SANTA CLARA_270,00_BOLETO_111534.PDF
2026-01-27 11:34:56,749 - INFO - 
============================================================
2026-01-27 11:34:56,749 - INFO - TESTANDO: 01.11.2025_MV_SANTA CLARA_270,00_BOLETO_111534.PDF
2026-01-27 11:34:56,749 - INFO - ============================================================
2026-01-27 11:34:56,749 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,749 - DEBUG - Parsed '01.11.2025_MV_SANTA CLARA_270,00_BOLETO_111534.PDF':
2026-01-27 11:34:56,749 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,749 - DEBUG -   Entidade: MV
2026-01-27 11:34:56,749 - DEBUG -   Fornecedor: SANTA CLARA
2026-01-27 11:34:56,749 - DEBUG -   Valor: 270,00 (27000 cents)
2026-01-27 11:34:56,749 - DEBUG -   Tipo: BOLETO
2026-01-27 11:34:56,749 - DEBUG -   Número: 111534
2026-01-27 11:34:56,749 - DEBUG -   Parcela: None
2026-01-27 11:34:56,749 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,749 - DEBUG - DPI Normalization: 595x841 -> 612x865 (scale=1.029)
2026-01-27 11:34:56,752 - DEBUG - PDF carregado: 250 blocos de texto
2026-01-27 11:34:56,769 - DEBUG - Extracted '01.11.2025_MV_SANTA CLARA_270,00_BOLETO_111534.PDF':
2026-01-27 11:34:56,769 - DEBUG -   Valor: 27000 cents
2026-01-27 11:34:56,769 - DEBUG -   Entidade: EntityTag.MV
2026-01-27 11:34:56,769 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,769 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,769 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,769 - INFO - Comparando resultados...
2026-01-27 11:34:56,769 - INFO - OK Valor: Match exato: 270.00
2026-01-27 11:34:56,769 - INFO - OK Entidade: Match: MV
2026-01-27 11:34:56,769 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,769 - WARNING - WARN Tipo: Diferente: esperado=BOLETO, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,769 - INFO - 
RESULTADO: ✓ PASSOU
2026-01-27 11:34:56,769 - INFO - Tempo: 20ms
2026-01-27 11:34:56,769 - INFO - 
[4/10] Processando: 01.11.2025_MV_SANTA CLARA_270,00_NFE_111534.pdf
2026-01-27 11:34:56,769 - INFO - 
============================================================
2026-01-27 11:34:56,769 - INFO - TESTANDO: 01.11.2025_MV_SANTA CLARA_270,00_NFE_111534.pdf
2026-01-27 11:34:56,769 - INFO - ============================================================
2026-01-27 11:34:56,769 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,769 - DEBUG - Parsed '01.11.2025_MV_SANTA CLARA_270,00_NFE_111534.pdf':
2026-01-27 11:34:56,769 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,769 - DEBUG -   Entidade: MV
2026-01-27 11:34:56,769 - DEBUG -   Fornecedor: SANTA CLARA
2026-01-27 11:34:56,769 - DEBUG -   Valor: 270,00 (27000 cents)
2026-01-27 11:34:56,769 - DEBUG -   Tipo: NFE
2026-01-27 11:34:56,770 - DEBUG -   Número: 111534
2026-01-27 11:34:56,770 - DEBUG -   Parcela: None
2026-01-27 11:34:56,770 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,770 - DEBUG - DPI Normalization: 596x842 -> 612x866 (scale=1.028)
2026-01-27 11:34:56,773 - DEBUG - PDF carregado: 442 blocos de texto
2026-01-27 11:34:56,812 - WARNING - Failed to load PaddleOCR: Descriptors cannot be created directly.
If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
If you cannot immediately regenerate your protos, some other possible workarounds are:
 1. Downgrade the protobuf package to 3.20.x or lower.
 2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

More information: https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates
2026-01-27 11:34:56,812 - INFO - VLM pulado (High Confidence/Hints)
2026-01-27 11:34:56,813 - DEBUG - Extracted '01.11.2025_MV_SANTA CLARA_270,00_NFE_111534.pdf':
2026-01-27 11:34:56,813 - DEBUG -   Valor: 0 cents
2026-01-27 11:34:56,813 - DEBUG -   Entidade: EntityTag.MV
2026-01-27 11:34:56,813 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,813 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,813 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,813 - INFO - Comparando resultados...
2026-01-27 11:34:56,813 - ERROR - FALHA Valor: Fora da tolerância: esperado=270.00, extraído=0.00, diff=270.00
2026-01-27 11:34:56,813 - INFO - OK Entidade: Match: MV
2026-01-27 11:34:56,813 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,813 - WARNING - WARN Tipo: Diferente: esperado=NFE, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,813 - INFO - 
RESULTADO: ✗ FALHOU
2026-01-27 11:34:56,813 - INFO - Tempo: 44ms
2026-01-27 11:34:56,813 - INFO - 
[5/10] Processando: 01.11.2025_MV_SANTA CLARA_81,00_BOLETO_111535.PDF
2026-01-27 11:34:56,813 - INFO - 
============================================================
2026-01-27 11:34:56,813 - INFO - TESTANDO: 01.11.2025_MV_SANTA CLARA_81,00_BOLETO_111535.PDF
2026-01-27 11:34:56,813 - INFO - ============================================================
2026-01-27 11:34:56,813 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,813 - DEBUG - Parsed '01.11.2025_MV_SANTA CLARA_81,00_BOLETO_111535.PDF':
2026-01-27 11:34:56,813 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,813 - DEBUG -   Entidade: MV
2026-01-27 11:34:56,813 - DEBUG -   Fornecedor: SANTA CLARA
2026-01-27 11:34:56,813 - DEBUG -   Valor: 81,00 (8100 cents)
2026-01-27 11:34:56,814 - DEBUG -   Tipo: BOLETO
2026-01-27 11:34:56,814 - DEBUG -   Número: 111535
2026-01-27 11:34:56,814 - DEBUG -   Parcela: None
2026-01-27 11:34:56,814 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,814 - DEBUG - DPI Normalization: 595x841 -> 612x865 (scale=1.029)
2026-01-27 11:34:56,816 - DEBUG - PDF carregado: 250 blocos de texto
2026-01-27 11:34:56,833 - DEBUG - Extracted '01.11.2025_MV_SANTA CLARA_81,00_BOLETO_111535.PDF':
2026-01-27 11:34:56,833 - DEBUG -   Valor: 8100 cents
2026-01-27 11:34:56,833 - DEBUG -   Entidade: EntityTag.MV
2026-01-27 11:34:56,833 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,833 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,833 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,833 - INFO - Comparando resultados...
2026-01-27 11:34:56,833 - INFO - OK Valor: Match exato: 81.00
2026-01-27 11:34:56,833 - INFO - OK Entidade: Match: MV
2026-01-27 11:34:56,833 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,833 - WARNING - WARN Tipo: Diferente: esperado=BOLETO, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,833 - INFO - 
RESULTADO: ✓ PASSOU
2026-01-27 11:34:56,833 - INFO - Tempo: 20ms
2026-01-27 11:34:56,833 - INFO - 
[6/10] Processando: 01.11.2025_MV_SANTA CLARA_81,00_NFE_111535.pdf
2026-01-27 11:34:56,833 - INFO - 
============================================================
2026-01-27 11:34:56,833 - INFO - TESTANDO: 01.11.2025_MV_SANTA CLARA_81,00_NFE_111535.pdf
2026-01-27 11:34:56,834 - INFO - ============================================================
2026-01-27 11:34:56,834 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,834 - DEBUG - Parsed '01.11.2025_MV_SANTA CLARA_81,00_NFE_111535.pdf':
2026-01-27 11:34:56,834 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,834 - DEBUG -   Entidade: MV
2026-01-27 11:34:56,834 - DEBUG -   Fornecedor: SANTA CLARA
2026-01-27 11:34:56,834 - DEBUG -   Valor: 81,00 (8100 cents)
2026-01-27 11:34:56,834 - DEBUG -   Tipo: NFE
2026-01-27 11:34:56,834 - DEBUG -   Número: 111535
2026-01-27 11:34:56,834 - DEBUG -   Parcela: None
2026-01-27 11:34:56,834 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,834 - DEBUG - DPI Normalization: 596x842 -> 612x866 (scale=1.028)
2026-01-27 11:34:56,837 - DEBUG - PDF carregado: 450 blocos de texto
2026-01-27 11:34:56,877 - WARNING - Failed to load PaddleOCR: Descriptors cannot be created directly.
If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
If you cannot immediately regenerate your protos, some other possible workarounds are:
 1. Downgrade the protobuf package to 3.20.x or lower.
 2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

More information: https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates
2026-01-27 11:34:56,877 - INFO - VLM pulado (High Confidence/Hints)
2026-01-27 11:34:56,878 - DEBUG - Extracted '01.11.2025_MV_SANTA CLARA_81,00_NFE_111535.pdf':
2026-01-27 11:34:56,878 - DEBUG -   Valor: 0 cents
2026-01-27 11:34:56,878 - DEBUG -   Entidade: EntityTag.MV
2026-01-27 11:34:56,878 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,878 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,878 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,878 - INFO - Comparando resultados...
2026-01-27 11:34:56,878 - ERROR - FALHA Valor: Fora da tolerância: esperado=81.00, extraído=0.00, diff=81.00
2026-01-27 11:34:56,878 - INFO - OK Entidade: Match: MV
2026-01-27 11:34:56,878 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,878 - WARNING - WARN Tipo: Diferente: esperado=NFE, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,878 - INFO - 
RESULTADO: ✗ FALHOU
2026-01-27 11:34:56,878 - INFO - Tempo: 44ms
2026-01-27 11:34:56,878 - INFO - 
[7/10] Processando: 01.11.2025_VG_ABDALLA TRUCK_370,00_BOLETO_20590.pdf
2026-01-27 11:34:56,878 - INFO - 
============================================================
2026-01-27 11:34:56,878 - INFO - TESTANDO: 01.11.2025_VG_ABDALLA TRUCK_370,00_BOLETO_20590.pdf
2026-01-27 11:34:56,878 - INFO - ============================================================
2026-01-27 11:34:56,878 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,878 - DEBUG - Parsed '01.11.2025_VG_ABDALLA TRUCK_370,00_BOLETO_20590.pdf':
2026-01-27 11:34:56,878 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,878 - DEBUG -   Entidade: VG
2026-01-27 11:34:56,878 - DEBUG -   Fornecedor: ABDALLA TRUCK
2026-01-27 11:34:56,878 - DEBUG -   Valor: 370,00 (37000 cents)
2026-01-27 11:34:56,878 - DEBUG -   Tipo: BOLETO
2026-01-27 11:34:56,878 - DEBUG -   Número: 20590
2026-01-27 11:34:56,878 - DEBUG -   Parcela: None
2026-01-27 11:34:56,878 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,879 - DEBUG - DPI Normalization: 595x842 -> 612x866 (scale=1.029)
2026-01-27 11:34:56,883 - DEBUG - PDF carregado: 247 blocos de texto
2026-01-27 11:34:56,900 - DEBUG - Extracted '01.11.2025_VG_ABDALLA TRUCK_370,00_BOLETO_20590.pdf':
2026-01-27 11:34:56,901 - DEBUG -   Valor: 37000 cents
2026-01-27 11:34:56,901 - DEBUG -   Entidade: EntityTag.VG
2026-01-27 11:34:56,901 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,901 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,901 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,901 - INFO - Comparando resultados...
2026-01-27 11:34:56,901 - INFO - OK Valor: Match exato: 370.00
2026-01-27 11:34:56,901 - INFO - OK Entidade: Match: VG
2026-01-27 11:34:56,901 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,901 - WARNING - WARN Tipo: Diferente: esperado=BOLETO, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,901 - INFO - 
RESULTADO: ✓ PASSOU
2026-01-27 11:34:56,901 - INFO - Tempo: 23ms
2026-01-27 11:34:56,901 - INFO - 
[8/10] Processando: 01.11.2025_VG_ABDALLA TRUCK_370,00_NFSE_20590.pdf
2026-01-27 11:34:56,901 - INFO - 
============================================================
2026-01-27 11:34:56,901 - INFO - TESTANDO: 01.11.2025_VG_ABDALLA TRUCK_370,00_NFSE_20590.pdf
2026-01-27 11:34:56,901 - INFO - ============================================================
2026-01-27 11:34:56,902 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,902 - DEBUG - Parsed '01.11.2025_VG_ABDALLA TRUCK_370,00_NFSE_20590.pdf':
2026-01-27 11:34:56,902 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,902 - DEBUG -   Entidade: VG
2026-01-27 11:34:56,902 - DEBUG -   Fornecedor: ABDALLA TRUCK
2026-01-27 11:34:56,902 - DEBUG -   Valor: 370,00 (37000 cents)
2026-01-27 11:34:56,902 - DEBUG -   Tipo: NFSE
2026-01-27 11:34:56,902 - DEBUG -   Número: 20590
2026-01-27 11:34:56,902 - DEBUG -   Parcela: None
2026-01-27 11:34:56,902 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,902 - DEBUG - DPI Normalization: 595x842 -> 612x866 (scale=1.029)
2026-01-27 11:34:56,919 - DEBUG - PDF carregado: 496 blocos de texto
2026-01-27 11:34:56,924 - DEBUG - Nenhuma âncora encontrada para 'due_date'
2026-01-27 11:34:56,927 - DEBUG - Nenhuma âncora encontrada para 'emission_date'
2026-01-27 11:34:56,934 - DEBUG - Nenhuma âncora encontrada para 'amount'
2026-01-27 11:34:56,937 - DEBUG - Nenhuma âncora encontrada para 'cnpj_emissor'
2026-01-27 11:34:56,940 - DEBUG - Nenhuma âncora encontrada para 'cnpj_destinatario'
2026-01-27 11:34:56,973 - WARNING - Failed to load PaddleOCR: Descriptors cannot be created directly.
If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
If you cannot immediately regenerate your protos, some other possible workarounds are:
 1. Downgrade the protobuf package to 3.20.x or lower.
 2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

More information: https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates
2026-01-27 11:34:56,973 - INFO - VLM pulado (High Confidence/Hints)
2026-01-27 11:34:56,974 - DEBUG - Extracted '01.11.2025_VG_ABDALLA TRUCK_370,00_NFSE_20590.pdf':
2026-01-27 11:34:56,974 - DEBUG -   Valor: 0 cents
2026-01-27 11:34:56,974 - DEBUG -   Entidade: EntityTag.VG
2026-01-27 11:34:56,974 - DEBUG -   Fornecedor: None
2026-01-27 11:34:56,974 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:56,974 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:56,974 - INFO - Comparando resultados...
2026-01-27 11:34:56,974 - ERROR - FALHA Valor: Fora da tolerância: esperado=370.00, extraído=0.00, diff=370.00
2026-01-27 11:34:56,974 - INFO - OK Entidade: Match: VG
2026-01-27 11:34:56,974 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:56,974 - WARNING - WARN Tipo: Diferente: esperado=NFSE, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:56,974 - INFO - 
RESULTADO: ✗ FALHOU
2026-01-27 11:34:56,974 - INFO - Tempo: 72ms
2026-01-27 11:34:56,974 - INFO - 
[9/10] Processando: 01.11.2025_VG_AGRO BAGGIO_2.843,29_5.686,58_PARC 2-2_NFE_414978.pdf
2026-01-27 11:34:56,974 - INFO - 
============================================================
2026-01-27 11:34:56,974 - INFO - TESTANDO: 01.11.2025_VG_AGRO BAGGIO_2.843,29_5.686,58_PARC 2-2_NFE_414978.pdf
2026-01-27 11:34:56,974 - INFO - ============================================================
2026-01-27 11:34:56,974 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:56,974 - DEBUG - Parsed '01.11.2025_VG_AGRO BAGGIO_2.843,29_5.686,58_PARC 2-2_NFE_414978.pdf':
2026-01-27 11:34:56,974 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:56,974 - DEBUG -   Entidade: VG
2026-01-27 11:34:56,974 - DEBUG -   Fornecedor: AGRO BAGGIO
2026-01-27 11:34:56,974 - DEBUG -   Valor: 2.843,29 (284329 cents)
2026-01-27 11:34:56,974 - DEBUG -   Tipo: NFE
2026-01-27 11:34:56,974 - DEBUG -   Número: 414978
2026-01-27 11:34:56,974 - DEBUG -   Parcela: 2-2
2026-01-27 11:34:56,975 - INFO - Extraindo dados do documento...
2026-01-27 11:34:56,975 - DEBUG - DPI Normalization: 595x842 -> 612x866 (scale=1.028)
2026-01-27 11:34:56,978 - DEBUG - PDF carregado: 529 blocos de texto
2026-01-27 11:34:56,984 - DEBUG - Nenhuma âncora encontrada para 'due_date'
2026-01-27 11:34:57,014 - DEBUG - Extracted '01.11.2025_VG_AGRO BAGGIO_2.843,29_5.686,58_PARC 2-2_NFE_414978.pdf':
2026-01-27 11:34:57,015 - DEBUG -   Valor: 431827 cents
2026-01-27 11:34:57,015 - DEBUG -   Entidade: EntityTag.VG
2026-01-27 11:34:57,015 - DEBUG -   Fornecedor: None
2026-01-27 11:34:57,015 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:57,015 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:57,015 - INFO - Comparando resultados...
2026-01-27 11:34:57,015 - ERROR - FALHA Valor: Fora da tolerância: esperado=2843.29, extraído=4318.27, diff=1474.98
2026-01-27 11:34:57,015 - INFO - OK Entidade: Match: VG
2026-01-27 11:34:57,015 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:57,015 - WARNING - WARN Tipo: Diferente: esperado=NFE, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:57,015 - INFO - 
RESULTADO: ✗ FALHOU
2026-01-27 11:34:57,015 - INFO - Tempo: 40ms
2026-01-27 11:34:57,015 - INFO - 
[10/10] Processando: 01.11.2025_VG_AGRO BAGGIO_2.843,29_PARC 2-2_BOLETO_414978.pdf
2026-01-27 11:34:57,015 - INFO - 
============================================================
2026-01-27 11:34:57,015 - INFO - TESTANDO: 01.11.2025_VG_AGRO BAGGIO_2.843,29_PARC 2-2_BOLETO_414978.pdf
2026-01-27 11:34:57,015 - INFO - ============================================================
2026-01-27 11:34:57,015 - INFO - Parseando nome do arquivo...
2026-01-27 11:34:57,015 - DEBUG - Parsed '01.11.2025_VG_AGRO BAGGIO_2.843,29_PARC 2-2_BOLETO_414978.pdf':
2026-01-27 11:34:57,015 - DEBUG -   Data: 01.11.2025
2026-01-27 11:34:57,015 - DEBUG -   Entidade: VG
2026-01-27 11:34:57,015 - DEBUG -   Fornecedor: AGRO BAGGIO
2026-01-27 11:34:57,015 - DEBUG -   Valor: 2.843,29 (284329 cents)
2026-01-27 11:34:57,015 - DEBUG -   Tipo: BOLETO
2026-01-27 11:34:57,015 - DEBUG -   Número: 414978
2026-01-27 11:34:57,015 - DEBUG -   Parcela: 2-2
2026-01-27 11:34:57,015 - INFO - Extraindo dados do documento...
2026-01-27 11:34:57,016 - DEBUG - DPI Normalization: 595x842 -> 612x866 (scale=1.028)
2026-01-27 11:34:57,019 - DEBUG - PDF carregado: 366 blocos de texto
2026-01-27 11:34:57,046 - DEBUG - Extracted '01.11.2025_VG_AGRO BAGGIO_2.843,29_PARC 2-2_BOLETO_414978.pdf':
2026-01-27 11:34:57,047 - DEBUG -   Valor: 10 cents
2026-01-27 11:34:57,047 - DEBUG -   Entidade: EntityTag.VG
2026-01-27 11:34:57,047 - DEBUG -   Fornecedor: None
2026-01-27 11:34:57,047 - DEBUG -   Tipo: DocumentType.UNKNOWN
2026-01-27 11:34:57,047 - DEBUG -   Confiança: 1.00
2026-01-27 11:34:57,047 - INFO - Comparando resultados...
2026-01-27 11:34:57,047 - ERROR - FALHA Valor: Fora da tolerância: esperado=2843.29, extraído=0.10, diff=2843.19
2026-01-27 11:34:57,047 - INFO - OK Entidade: Match: VG
2026-01-27 11:34:57,047 - WARNING - WARN Fornecedor: Um ou ambos valores vazios
2026-01-27 11:34:57,047 - WARNING - WARN Tipo: Diferente: esperado=BOLETO, extraído=DocumentType.UNKNOWN
2026-01-27 11:34:57,047 - INFO - 
RESULTADO: ✗ FALHOU
2026-01-27 11:34:57,048 - INFO - Tempo: 32ms
2026-01-27 11:34:57,048 - INFO - 
######################################################################
2026-01-27 11:34:57,048 - INFO - # RESUMO DO TESTE
2026-01-27 11:34:57,048 - INFO - ######################################################################
2026-01-27 11:34:57,048 - INFO - 
TOTAL DE ARQUIVOS: 10
2026-01-27 11:34:57,048 - INFO -   ✓ Passou:  4 (40.0%)
2026-01-27 11:34:57,048 - INFO -   ✗ Falhou:  6 (60.0%)
2026-01-27 11:34:57,048 - INFO -   ⚠ Erros:   0
2026-01-27 11:34:57,048 - INFO - 
TEMPO DE EXECUÇÃO:
2026-01-27 11:34:57,048 - INFO -   Total:  0.6s
2026-01-27 11:34:57,048 - INFO -   Médio:  59ms/arquivo
2026-01-27 11:34:57,048 - INFO - 
PRECISÃO POR CAMPO:
2026-01-27 11:34:57,048 - INFO -   amount         :  40.0% (4/10)
2026-01-27 11:34:57,048 - INFO -   doc_type       :   0.0% (0/10)
2026-01-27 11:34:57,048 - INFO -   entity         : 100.0% (10/10)
2026-01-27 11:34:57,048 - INFO -   supplier       :   0.0% (0/10)
2026-01-27 11:34:57,048 - INFO - 
PRECISÃO POR TIPO DE DOCUMENTO:
2026-01-27 11:34:57,048 - INFO -   BOLETO         :  80.0% (4/5)
2026-01-27 11:34:57,048 - INFO -   NFE            :   0.0% (0/4)
2026-01-27 11:34:57,048 - INFO -   NFSE           :   0.0% (0/1)
2026-01-27 11:34:57,048 - INFO - 
PRECISÃO POR ENTIDADE:
2026-01-27 11:34:57,048 - INFO -   MV             :  50.0% (3/6)
2026-01-27 11:34:57,048 - INFO -   VG             :  25.0% (1/4)
2026-01-27 11:34:57,048 - INFO - 
======================================================================
2026-01-27 11:34:57,048 - INFO - TOP 20 FALHAS (de 6 total)
2026-01-27 11:34:57,048 - INFO - ======================================================================
2026-01-27 11:34:57,048 - INFO - 
01.11.2025_MV_CADORE BIDOIA_850,00_NFE_732177.pdf
2026-01-27 11:34:57,048 - INFO -   Ground Truth: 850,00 (85000 cents) | MV | CADORE BIDOIA
2026-01-27 11:34:57,048 - INFO -   Extraído:     0 cents | EntityTag.MV | None
2026-01-27 11:34:57,048 - INFO -   ERRO: Valor incorreto: Fora da tolerância: esperado=850.00, extraído=0.00, diff=850.00
2026-01-27 11:34:57,048 - INFO - 
01.11.2025_MV_SANTA CLARA_270,00_NFE_111534.pdf
2026-01-27 11:34:57,048 - INFO -   Ground Truth: 270,00 (27000 cents) | MV | SANTA CLARA
2026-01-27 11:34:57,048 - INFO -   Extraído:     0 cents | EntityTag.MV | None
2026-01-27 11:34:57,048 - INFO -   ERRO: Valor incorreto: Fora da tolerância: esperado=270.00, extraído=0.00, diff=270.00
2026-01-27 11:34:57,048 - INFO - 
01.11.2025_MV_SANTA CLARA_81,00_NFE_111535.pdf
2026-01-27 11:34:57,048 - INFO -   Ground Truth: 81,00 (8100 cents) | MV | SANTA CLARA
2026-01-27 11:34:57,048 - INFO -   Extraído:     0 cents | EntityTag.MV | None
2026-01-27 11:34:57,048 - INFO -   ERRO: Valor incorreto: Fora da tolerância: esperado=81.00, extraído=0.00, diff=81.00
2026-01-27 11:34:57,048 - INFO - 
01.11.2025_VG_ABDALLA TRUCK_370,00_NFSE_20590.pdf
2026-01-27 11:34:57,048 - INFO -   Ground Truth: 370,00 (37000 cents) | VG | ABDALLA TRUCK
2026-01-27 11:34:57,049 - INFO -   Extraído:     0 cents | EntityTag.VG | None
2026-01-27 11:34:57,049 - INFO -   ERRO: Valor incorreto: Fora da tolerância: esperado=370.00, extraído=0.00, diff=370.00
2026-01-27 11:34:57,049 - INFO - 
01.11.2025_VG_AGRO BAGGIO_2.843,29_5.686,58_PARC 2-2_NFE_414978.pdf
2026-01-27 11:34:57,049 - INFO -   Ground Truth: 2.843,29 (284329 cents) | VG | AGRO BAGGIO
2026-01-27 11:34:57,049 - INFO -   Extraído:     431827 cents | EntityTag.VG | None
2026-01-27 11:34:57,049 - INFO -   ERRO: Valor incorreto: Fora da tolerância: esperado=2843.29, extraído=4318.27, diff=1474.98
2026-01-27 11:34:57,049 - INFO - 
01.11.2025_VG_AGRO BAGGIO_2.843,29_PARC 2-2_BOLETO_414978.pdf
2026-01-27 11:34:57,049 - INFO -   Ground Truth: 2.843,29 (284329 cents) | VG | AGRO BAGGIO
2026-01-27 11:34:57,049 - INFO -   Extraído:     10 cents | EntityTag.VG | None
2026-01-27 11:34:57,049 - INFO -   ERRO: Valor incorreto: Fora da tolerância: esperado=2843.29, extraído=0.10, diff=2843.19
2026-01-27 11:34:57,051 - INFO - 
Resultados salvos em: extraction_test_results.json
2026-01-27 11:34:57,051 - INFO - Log salvo em: extraction_test_log_20260127_113455.txt
